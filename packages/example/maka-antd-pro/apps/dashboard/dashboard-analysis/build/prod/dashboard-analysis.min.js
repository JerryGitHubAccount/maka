!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("maka"),require("react")):"function"==typeof define&&define.amd?define(["maka","react"],t):"object"==typeof exports?exports["MakaApp-dashboard-analysis"]=t(require("maka"),require("react")):e["MakaApp-dashboard-analysis"]=t(e.maka,e.react)}("undefined"!=typeof window&&window||"undefined"!=typeof global&&global,function(n,a){return function(n){var a={};function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=window['__pub_dashboard-analysis__'],r(r.s=8)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=n},function(e,t,n){var r=n(0);e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){r(t,e,n[e])})}return t}},function(e,t){e.exports=a},function(e,t,n){e.exports=n(9)},function(e,t){function l(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}e.exports=function(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var a=s.apply(e,i);function r(e){l(a,t,n,r,o,"next",e)}function o(e){l(a,t,n,r,o,"throw",e)}r(void 0)})}}},function(e){e.exports={isMakaApp:!0,name:"dashboard-analysis",description:"dashboard-analysis",version:"1.0.0",license:"MIT",author:"",repository:{type:"git",url:"https://github.com/makajs/dashboard-analysis.git"},bugs:{url:"https://github.com/makajs/dashboard-analysis/issues"},homepage:"https://github.com/makajs/dashboard-analysis#readme",scripts:{start:"maka start",dev:"maka start --dev",build:"maka build",pkg:"maka pkg"},dependencies:{},server:{proxy:null,port:8e3},subAppDir:["./apps","../../../"],devDependencies:{antd:"^3.11.6"}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){e.exports=n(12)},function(e,t,n){var a=function(){return this||"object"==typeof self&&self}()||Function("return this")(),r=a.regeneratorRuntime&&0<=Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime"),o=r&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=n(10),r)a.regeneratorRuntime=o;else try{delete a.regeneratorRuntime}catch(e){a.regeneratorRuntime=void 0}},function(L,e){!function(e){"use strict";var l,t=Object.prototype,c=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag",i="object"==typeof L,s=e.regeneratorRuntime;if(s)i&&(L.exports=s);else{(s=e.regeneratorRuntime=i?L.exports:{}).wrap=v;var u="suspendedStart",p="suspendedYield",y="executing",h="completed",m={},d={};d[r]=function(){return this};var f=Object.getPrototypeOf,g=f&&f(f(O([])));g&&g!==t&&c.call(g,r)&&(d=g);var x=$.prototype=w.prototype=Object.create(d);k.prototype=x.constructor=$,$.constructor=k,$[o]=k.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,$):(e.__proto__=$,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(x),e},s.awrap=function(e){return{__await:e}},T(C.prototype),C.prototype[a]=function(){return this},s.AsyncIterator=C,s.async=function(e,t,n,a){var r=new C(v(e,t,n,a));return s.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},T(x),x[o]="Generator",x[r]=function(){return this},x.toString=function(){return"[object Generator]"},s.keys=function(n){var a=[];for(var e in n)a.push(e);return a.reverse(),function e(){for(;a.length;){var t=a.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=O,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var a=this;function e(e,t){return o.type="throw",o.arg=n,a.next=e,t&&(a.method="next",a.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var i=c.call(r,"catchLoc"),s=c.call(r,"finallyLoc");if(i&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&c.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),m}}}function v(e,t,n,a){var o,i,s,l,r=t&&t.prototype instanceof w?t:w,c=Object.create(r.prototype),d=new N(a||[]);return c._invoke=(o=e,i=n,s=d,l=u,function(e,t){if(l===y)throw new Error("Generator is already running");if(l===h){if("throw"===e)throw t;return P()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var a=M(n,s);if(a){if(a===m)continue;return a}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===u)throw l=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=y;var r=b(o,i,s);if("normal"===r.type){if(l=s.done?h:p,r.arg===m)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(l=h,s.method="throw",s.arg=r.arg)}}),c}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function k(){}function $(){}function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(l){var t;this._invoke=function(n,a){function e(){return new Promise(function(e,t){!function t(e,n,a,r){var o=b(l[e],l,n);if("throw"!==o.type){var i=o.arg,s=i.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,a,r)},function(e){t("throw",e,a,r)}):Promise.resolve(s).then(function(e){i.value=e,a(i)},function(e){return t("throw",e,a,r)})}r(o.arg)}(n,a,e,t)})}return t=t?t.then(e,e):e()}}function M(e,t){var n=e.iterator[t.method];if(n===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,M(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=b(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:l,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),o=n(5),i=n.n(o),s=n(6),u=n(1),l=(n(11),n(2)),c=n.n(l),d=n(3),p=n.n(d),y={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},h={component:"span",className:"{{$styles('iconGroup')}}",children:{component:"antd.Dropdown",overlay:{component:"antd.Menu",children:[{component:"antd.Menu.Item",children:"操作一"},{component:"antd.Menu.Item",children:"操作二"}]},placement:"bottomRight",children:{component:"antd.Icon",type:"ellipsis"}}},m={component:"Fragment",children:[{component:"antd.Row",gutter:24,children:[c()({component:"antd.Col"},y,{children:[{component:"antdpro.Charts.ChartCard",bordered:!1,title:"{{$i18n('app.analysis.total-sales', {defaultMessage: 'Total Sales'})}}",action:{component:"antd.Tooltip",title:"{{$i18n('app.analysis.introduce',{defaultMessage: 'Introduce'})}}",children:{component:"antd.Icon",type:"info-circle-o"}},total:{component:"span",children:"{{'¥ ' + $numberHelper.format(126560,0,',')}}"},footer:{component:"antdpro.Charts.Field",label:"{{$i18n('app.analysis.day-sales',{defaultMessage:'Daily Sales'})}}",value:"{{'¥ ' + $numberHelper.format(12423,0,',')}}"},contentHeight:46,children:[{component:"antdpro.Trend",flag:"up",style:{marginRight:16},children:["{{$i18n('app.analysis.week', {defaultMessage:'Weekly Changes'})}}",{component:"span",className:"{{$styles('trendText')}}",children:"12%"}]},{component:"antdpro.Trend",flag:"down",children:["{{$i18n('app.analysis.day', {defaultMessage:'Daily Changes'})}}",{component:"span",className:"{{$styles('trendText')}}",children:"12%"}]}]}]}),c()({component:"antd.Col"},y,{children:[{component:"antdpro.Charts.ChartCard",bordered:!1,title:"{{$i18n('app.analysis.visits', {defaultMessage: 'Visits'})}}",action:{component:"antd.Tooltip",title:"{{$i18n('app.analysis.introduce',{defaultMessage: 'Introduce'})}}",children:{component:"antd.Icon",type:"info-circle-o"}},total:"{{ $numberHelper.format(8846,0,',')}}",footer:{component:"antdpro.Charts.Field",label:"{{$i18n('app.analysis.day-visits',{defaultMessage:'Daily Visits'})}}",value:"{{$numberHelper.format(1234,0,',')}}"},contentHeight:46,children:{component:"Suspense",fallback:null,children:{component:"antdpro.Charts.MiniArea",color:"#975FE4",data:"{{data.visitData}}"}}}]}),c()({component:"antd.Col"},y,{children:[{component:"antdpro.Charts.ChartCard",bordered:!1,title:"{{$i18n('app.analysis.payments', {defaultMessage: 'payments'})}}",action:{component:"antd.Tooltip",title:"{{$i18n('app.analysis.introduce',{defaultMessage: 'Introduce'})}}",children:{component:"antd.Icon",type:"info-circle-o"}},total:"{{$numberHelper.format(6560,0,',')}}",footer:{component:"antdpro.Charts.Field",label:"{{$i18n('app.analysis.conversion-rate',{defaultMessage:'Conversion Rate'})}}",value:"60%"},contentHeight:46,children:{component:"Suspense",fallback:null,children:{component:"antdpro.Charts.MiniBar",data:"{{data.visitData}}"}}}]}),c()({component:"antd.Col"},y,{children:[{component:"antdpro.Charts.ChartCard",bordered:!1,title:"{{$i18n('app.analysis.operational-effect', {defaultMessage: 'Operational Effect'})}}",action:{component:"antd.Tooltip",title:"{{$i18n('app.analysis.introduce',{defaultMessage: 'Introduce'})}}",children:{component:"antd.Icon",type:"info-circle-o"}},total:"78%",footer:[{component:"div",style:{whiteSpace:"nowrap",overflow:"hidden"},children:[{component:"antdpro.Trend",flag:"up",style:{marginRight:16},children:["{{$i18n('app.analysis.week', {defaultMessage:'Weekly Changes'})}}",{component:"span",className:"{{$styles('trendText')}}",children:"12%"}]},{component:"antdpro.Trend",flag:"down",children:["{{$i18n('app.analysis.day', {defaultMessage:'Daily Changes'})}}",{component:"span",className:"{{$styles('trendText')}}",children:"12%"}]}]}],contentHeight:46,children:{component:"Suspense",fallback:null,children:{component:"antdpro.Charts.MiniProgress",percent:78,strokeWidth:8,target:80,color:"#13C2C2"}}}]})]},{component:"antd.Card",bordered:!1,bodyStyle:{padding:0},className:"{{$styles('salesCard')}}",children:[{component:"antd.Tabs",size:"large",tabBarStyle:{marginBottom:24},tabBarExtraContent:{component:"div",className:"{{$styles('salesExtraWrap')}}",children:[{component:"div",className:"{{$styles('salesExtra')}}",children:[{component:"a",className:"{{$isActive('today')}}",onClick:"{{()=> $selectDate('today')}}",children:"{{$i18n('app.analysis.all-day', {defaultMessage: 'All Day'})}}"},{component:"a",className:"{{$isActive('week')}}",onClick:"{{()=> $selectDate('week')}}",children:"{{$i18n('app.analysis.all-week', {defaultMessage: 'All Week'})}}"},{component:"a",className:"{{$isActive('month')}}",onClick:"{{()=> $selectDate('month')}}",children:"{{$i18n('app.analysis.all-month', {defaultMessage: 'All Month'})}}"},{component:"a",className:"{{$isActive('year')}}",onClick:"{{()=> $selectDate('year')}}",children:"{{$i18n('app.analysis.all-year', {defaultMessage: 'All Year'})}}"}]},{component:"antd.DatePicker.RangePicker",value:"{{data.rangePickerValue}}",onChange:"{{$handleRangePickerChange}}",style:{width:256}}]},children:[{component:"antd.Tabs.TabPane",tab:"{{$i18n('app.analysis.sales', {defaultMessage: 'Sales'})}}",keys:"sales",children:[{component:"antd.Row",children:[{component:"antd.Col",xl:16,lg:12,md:12,sm:24,xs:24,children:[{component:"div",className:"{{$styles('salesBar')}}",children:[{component:"Suspense",fallback:null,children:{component:"antdpro.Charts.Bar",height:295,title:"{{$i18n('app.analysis.sales-trend',{defaultMessage:'Sales Trend'})}}",data:"{{data.salesData}}"}}]}]},{component:"antd.Col",xl:8,lg:12,md:12,sm:24,xs:24,children:[{component:"div",className:"{{$styles('salesRank')}}",children:[{component:"h4",className:"{{$styles('rankingTitle')}}",children:["{{$i18n('app.analysis.sales-ranking',{defaultMessage:'Sales Ranking'})}}",{component:"ul",className:"{{$styles('rankingList')}}",children:{_for:"(item,i) in data.rankingListData",component:"li",children:[{component:"span",className:"{{$styles('rankingItemNumber') + ' ' + (i < 3 ? $styles('active'):'')}}",children:"{{i+1}}"},{component:"span",className:"{{$styles('rankingItemTitle')}}",title:"{{item.title}}",children:"{{item.title}}"},{component:"span",children:"{{$numberHelper.format(item.total, 0, ',')}}"}]}}]}]}]}]}]},{component:"antd.Tabs.TabPane",tab:"{{$i18n('app.analysis.visits', {defaultMessage: 'Visits'})}}",keys:"views",children:[{component:"antd.Row",children:[{component:"antd.Col",xl:16,lg:12,md:12,sm:24,xs:24,children:[{component:"div",className:"{{$styles('salesBar')}}",children:[{component:"Suspense",fallback:null,children:{component:"antdpro.Charts.Bar",height:295,title:"{{$i18n('app.analysis.visits-trend',{defaultMessage:'Visits Trend'})}}",data:"{{data.salesData}}"}}]}]},{component:"antd.Col",xl:8,lg:12,md:12,sm:24,xs:24,children:[{component:"div",className:"{{$styles('salesRank')}}",children:[{component:"h4",className:"{{$styles('rankingTitle')}}",children:["{{$i18n('app.analysis.visits-ranking',{defaultMessage:'Visits Ranking'})}}",{component:"ul",className:"{{$styles('rankingList')}}",children:{_for:"(item,i) in data.rankingListData",component:"li",children:[{component:"span",className:"{{$styles('rankingItemNumber') + ' ' + (i < 3 ? $styles('active'):'')}}",children:"{{i+1}}"},{component:"span",className:"{{$styles('rankingItemTitle')}}",title:"{{item.title}}",children:"{{item.title}}"},{component:"span",children:"{{$numberHelper.format(item.total, 0, ',')}}"}]}}]}]}]}]}]}]}]},{component:"antd.Row",gutter:24,children:[{component:"antd.Col",xl:12,lg:24,md:24,sm:24,xs:24,children:{component:"antd.Card",bordered:!1,title:"{{$i18n('app.analysis.online-top-search',{defaultMessage: 'Online Top Search'})}}",extra:h,style:{marginTop:24},children:[{component:"antd.Row",gutter:68,children:[{component:"antd.Col",sm:12,xs:24,style:{marginBottom:24},children:[{component:"antdpro.NumberInfo",subTitle:{component:"span",children:["{{$i18n('app.analysis.search-users', {defaultMessage:'search users'})}}",{component:"antd.Tooltip",title:"{{$i18n('app.analysis.introduce', {defaultMessage: 'introduce'})}}",children:{component:"antd.Icon",type:"info-circle-o",style:{marginLeft:8}}}]},gap:8,total:"{{$numberHelper.format(12321, 0, ',')}}",status:"up",subTotal:17.1},{component:"antdpro.Charts.MiniArea",line:!0,height:45,data:"{{data.visitData2}}"}]},{component:"antd.Col",sm:12,xs:24,style:{marginBottom:24},children:[{component:"antdpro.NumberInfo",subTitle:{component:"span",children:["{{$i18n('app.analysis.per-capita-search', {defaultMessage:'Per Capita Search'})}}",{component:"antd.Tooltip",title:"{{$i18n('app.analysis.introduce', {defaultMessage: 'introduce'})}}",children:{component:"antd.Icon",type:"info-circle-o",style:{marginLeft:8}}}]},gap:8,total:2.7,status:"down",subTotal:26.2},{component:"antdpro.Charts.MiniArea",line:!0,height:45,data:"{{data.visitData2}}"}]}]},{component:"antd.Table",rowKey:"{{(record)=>record.inex}}",size:"small",columns:[{title:"{{$i18n('app.analysis.table.rank',{defaultMessage:'Rank'})}}",dataIndex:"index",key:"index"},{title:"{{$i18n('app.analysis.table.search-keyword',{defaultMessage:'Search keyword'})}}",dataIndex:"keyword",key:"keyword",render:function(e){return p.a.createElement("a",{href:"/"},e)}},{title:"{{$i18n('app.analysis.table.users',{defaultMessage:'Users'})}}",dataIndex:"count",key:"count",sorter:function(e,t){return e.count-t.count},className:"{{$styles('alignRight')}}"},{title:"{{$i18n('app.analysis.table.weekly-range',{defaultMessage:'Weekly Range'})}}",dataIndex:"range",key:"range",sorter:function(e,t){return e.range-t.range},render:function(e,t){var n=Object(u.getComponent)("antdpro.Trend");return p.a.createElement(n,{flag:1===t.status?"down":"up"},p.a.createElement("span",{style:{marginRight:4}},e,"%"))},align:"right"}],dataSource:"{{data.searchData}}",pagination:{style:{marginBottom:0},pageSize:5}}]}},{component:"antd.Col",xl:12,lg:24,md:24,sm:24,xs:24,children:{component:"antd.Card",className:"{{$styles('salesCard')}}",bordered:!1,title:"{{$i18n('app.analysis.the-proportion-of-sales',{defaultMessage:'The Proportion of Sales'})}}",bodyStyle:{padding:24},extra:{component:"div",className:"{{$styles('salesCardExtra')}}",children:[h,{component:"div",className:"{{$styles('salesTypeRadio')}}",children:[{component:"antd.Radio.Group",value:"{{data.salesType}}",onChange:"{{$handleChangeSalesType}}",children:[{component:"antd.Radio.Button",value:"all",children:"{{$i18n('app.analysis.channel.all', {defaultMessage:'ALL'})}}"},{component:"antd.Radio.Button",value:"online",children:"{{$i18n('app.analysis.channel.online', {defaultMessage:'Online'})}}"},{component:"antd.Radio.Button",value:"stores",children:"{{$i18n('app.analysis.channel.stores', {defaultMessage:'Stores'})}}"}]}]}]},style:{marginTop:24},children:[{component:"div",style:{minHeight:380},children:[{component:"h4",style:{marginTop:8,marginBottom:32},children:"{{$i18n('app.analysis.sales', {defaultMessage:'Sales'})}}"},{component:"antdpro.Charts.Pie",hasLegend:!0,subTitle:"{{$i18n('app.analysis.sales', {defaultMessage:'Sales'})}}",total:"{{{\n               var total = $getPieData(data).reduce((pre, now) => now.y + pre, 0)\n               return '¥ ' + $numberHelper.format(total, 0, ',')\n            }}}",data:"{{$getPieData(data)}}",valueFormat:"{{value=>'¥ ' + $numberHelper.format(value, 0, ',')}}",height:248,lineWidth:4}]}]}}]},{component:"antd.Card",className:"{{$styles('offlineCard')}}",bordered:!1,style:{marginTop:32},children:[{component:"antd.Tabs",activeKey:"{{ data.currentTabKey || (data.offlineData[0] && data.offlineData[0].name)}}",onChange:"{{$handleTabChange}}",children:{_for:"shop in data.offlineData",component:"antd.Tabs.TabPane",tab:{component:"antd.Row",gutter:8,style:{width:138,margin:"8px 0"},children:[{component:"antd.Col",span:12,children:[{component:"antdpro.NumberInfo",title:"{{shop.name}}",subTitle:"{{$i18n('app.analysis.conversion-rate', {defaultMessage: 'Conversion Rate'})}}",gap:2,total:"{{shop.cvr * 100+'%'}}",theme:"{{data.currentTabKey !== data.name && 'light'}}"}]},{component:"antd.Col",span:12,style:{paddingTop:36},children:{component:"Suspense",fallback:null,children:{component:"antdpro.Charts.Pie",animate:!1,color:"{{data.currentTabKey !== shop.name && '#BDE4FF'}}",inner:.55,tooltip:!1,margin:[0,0,0,0],percent:"{{shop.cvr * 100}}",height:64}}}]},key:"{{shop.name}}",children:{component:"div",style:{padding:"0 24px"},children:[{component:"Suspense",fallback:null,children:{component:"antdpro.Charts.TimelineChart",height:400,data:"{{data.offlineChartData}}",titleMap:{y1:"{{$i18n('app.analysis.traffic')}}",y2:"{{$i18n('app.analysis.payments')}}"}}}]}}}]}]},f=n(7),g=n.n(f),x=n(0),v=n.n(x);function b(e){return 1*e<10?"0".concat(e):e}function w(e){var t=Object(u.getAction)("moment"),n=new Date;if("today"===e)return n.setHours(0),n.setMinutes(0),n.setSeconds(0),[t(n),t(n.getTime()+86399e3)];if("week"===e){var a=n.getDay();n.setHours(0),n.setMinutes(0),n.setSeconds(0),0===a?a=6:a-=1;var r=n.getTime()-864e5*a;return[t(r),t(r+604799e3)]}if("month"===e){var o=n.getFullYear(),i=n.getMonth(),s=t(n).add(1,"months"),l=s.year(),c=s.month();return[t("".concat(o,"-").concat(b(i+1),"-01 00:00:00")),t(t("".concat(l,"-").concat(b(c+1),"-01 00:00:00")).valueOf()-1e3)]}var d=n.getFullYear();return[t("".concat(d,"-01-01 00:00:00")),t("".concat(d,"-12-31 23:59:59"))]}var k,$=Object(u.actionMixin)("base","numberHelper","i18n")(k=function e(t){var a=this;g()(this,e),v()(this,"onInit",function(){for(var e=[],t=0;t<7;t+=1)e.push({title:a.i18n("app.analysis.test",{no:t}),total:323234});a.base.ss({"data.rangePickerValue":w("year"),"data.rankingListData":e})}),v()(this,"styles",function(e){return"dashboard-analysis-".concat(e)}),v()(this,"isActive",function(e){var t=a.base.gs("data.rangePickerValue")||w("year"),n=w(e);return t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?"dashboard-analysis-currentDate":""}),v()(this,"selectDate",function(e){a.base.ss({"data.rangePickerValue":w(e)})}),v()(this,"handleRangePickerChange",function(){}),v()(this,"handleChangeSalesType",function(e){a.base.ss({"data.salesType":e.target.value})}),v()(this,"getPieData",function(e){return"all"===e.salesType?e.salesTypeData:"online"===e.salesType?e.salesTypeDataOnline:e.salesTypeDataOffline}),v()(this,"handleTabChange",function(e){a.base.ss({"data.currentTabKey":e})}),Object.assign(this,t.mixins)})||k,T={data:{salesType:"all",currentTabKey:"",rankingListData:[],visitData:[{x:"2019-01-05",y:7},{x:"2019-01-06",y:5},{x:"2019-01-07",y:4},{x:"2019-01-08",y:2},{x:"2019-01-09",y:4},{x:"2019-01-10",y:7},{x:"2019-01-11",y:5},{x:"2019-01-12",y:6},{x:"2019-01-13",y:5},{x:"2019-01-14",y:9},{x:"2019-01-15",y:6},{x:"2019-01-16",y:3},{x:"2019-01-17",y:1},{x:"2019-01-18",y:5},{x:"2019-01-19",y:3},{x:"2019-01-20",y:6},{x:"2019-01-21",y:5}],visitData2:[{x:"2019-01-05",y:1},{x:"2019-01-06",y:6},{x:"2019-01-07",y:4},{x:"2019-01-08",y:8},{x:"2019-01-09",y:3},{x:"2019-01-10",y:7},{x:"2019-01-11",y:2}],salesData:[{x:"1月",y:1175},{x:"2月",y:341},{x:"3月",y:1185},{x:"4月",y:1059},{x:"5月",y:348},{x:"6月",y:799},{x:"7月",y:444},{x:"8月",y:229},{x:"9月",y:266},{x:"10月",y:409},{x:"11月",y:819},{x:"12月",y:488}],searchData:[{index:1,keyword:"搜索关键词-0",count:690,range:82,status:0},{index:2,keyword:"搜索关键词-1",count:666,range:84,status:0},{index:3,keyword:"搜索关键词-2",count:2,range:71,status:1},{index:4,keyword:"搜索关键词-3",count:369,range:41,status:0},{index:5,keyword:"搜索关键词-4",count:35,range:48,status:1},{index:6,keyword:"搜索关键词-5",count:871,range:68,status:1},{index:7,keyword:"搜索关键词-6",count:558,range:16,status:0},{index:8,keyword:"搜索关键词-7",count:271,range:46,status:0},{index:9,keyword:"搜索关键词-8",count:943,range:84,status:1},{index:10,keyword:"搜索关键词-9",count:98,range:46,status:0},{index:11,keyword:"搜索关键词-10",count:713,range:49,status:0},{index:12,keyword:"搜索关键词-11",count:237,range:28,status:1},{index:13,keyword:"搜索关键词-12",count:826,range:69,status:0},{index:14,keyword:"搜索关键词-13",count:479,range:76,status:0},{index:15,keyword:"搜索关键词-14",count:563,range:37,status:0},{index:16,keyword:"搜索关键词-15",count:705,range:7,status:0},{index:17,keyword:"搜索关键词-16",count:356,range:89,status:1},{index:18,keyword:"搜索关键词-17",count:920,range:21,status:1},{index:19,keyword:"搜索关键词-18",count:723,range:89,status:1},{index:20,keyword:"搜索关键词-19",count:513,range:82,status:0},{index:21,keyword:"搜索关键词-20",count:502,range:55,status:0},{index:22,keyword:"搜索关键词-21",count:204,range:45,status:1},{index:23,keyword:"搜索关键词-22",count:946,range:74,status:1},{index:24,keyword:"搜索关键词-23",count:201,range:22,status:1},{index:25,keyword:"搜索关键词-24",count:679,range:72,status:0},{index:26,keyword:"搜索关键词-25",count:486,range:44,status:1},{index:27,keyword:"搜索关键词-26",count:884,range:2,status:0},{index:28,keyword:"搜索关键词-27",count:415,range:88,status:1},{index:29,keyword:"搜索关键词-28",count:77,range:95,status:1},{index:30,keyword:"搜索关键词-29",count:277,range:12,status:1},{index:31,keyword:"搜索关键词-30",count:891,range:90,status:0},{index:32,keyword:"搜索关键词-31",count:474,range:80,status:0},{index:33,keyword:"搜索关键词-32",count:447,range:87,status:0},{index:34,keyword:"搜索关键词-33",count:312,range:29,status:0},{index:35,keyword:"搜索关键词-34",count:359,range:75,status:0},{index:36,keyword:"搜索关键词-35",count:221,range:21,status:1},{index:37,keyword:"搜索关键词-36",count:465,range:28,status:0},{index:38,keyword:"搜索关键词-37",count:887,range:83,status:0},{index:39,keyword:"搜索关键词-38",count:906,range:4,status:1},{index:40,keyword:"搜索关键词-39",count:906,range:7,status:0},{index:41,keyword:"搜索关键词-40",count:702,range:39,status:1},{index:42,keyword:"搜索关键词-41",count:223,range:62,status:1},{index:43,keyword:"搜索关键词-42",count:15,range:30,status:1},{index:44,keyword:"搜索关键词-43",count:615,range:3,status:1},{index:45,keyword:"搜索关键词-44",count:563,range:78,status:1},{index:46,keyword:"搜索关键词-45",count:779,range:8,status:0},{index:47,keyword:"搜索关键词-46",count:441,range:94,status:1},{index:48,keyword:"搜索关键词-47",count:628,range:23,status:0},{index:49,keyword:"搜索关键词-48",count:817,range:87,status:1},{index:50,keyword:"搜索关键词-49",count:658,range:73,status:0}],offlineData:[{name:"Stores 0",cvr:.1},{name:"Stores 1",cvr:.9},{name:"Stores 2",cvr:.5},{name:"Stores 3",cvr:.7},{name:"Stores 4",cvr:.7},{name:"Stores 5",cvr:.5},{name:"Stores 6",cvr:.3},{name:"Stores 7",cvr:.7},{name:"Stores 8",cvr:.6},{name:"Stores 9",cvr:.7}],offlineChartData:[{x:1546719222652,y1:105,y2:52},{x:1546721022652,y1:101,y2:14},{x:1546722822652,y1:19,y2:25},{x:1546724622652,y1:98,y2:80},{x:1546726422652,y1:81,y2:78},{x:1546728222652,y1:22,y2:14},{x:1546730022652,y1:76,y2:65},{x:1546731822652,y1:11,y2:79},{x:1546733622652,y1:108,y2:102},{x:1546735422652,y1:19,y2:101},{x:1546737222652,y1:45,y2:105},{x:1546739022652,y1:73,y2:60},{x:1546740822652,y1:36,y2:13},{x:1546742622652,y1:14,y2:34},{x:1546744422652,y1:26,y2:19},{x:1546746222652,y1:13,y2:101},{x:1546748022652,y1:53,y2:30},{x:1546749822652,y1:35,y2:16},{x:1546751622652,y1:39,y2:76},{x:1546753422652,y1:93,y2:89}],salesTypeData:[{x:"家用电器",y:4544},{x:"食用酒水",y:3321},{x:"个护健康",y:3113},{x:"服饰箱包",y:2341},{x:"母婴产品",y:1231},{x:"其他",y:1231}],salesTypeDataOnline:[{x:"家用电器",y:244},{x:"食用酒水",y:321},{x:"个护健康",y:311},{x:"服饰箱包",y:41},{x:"母婴产品",y:121},{x:"其他",y:111}],salesTypeDataOffline:[{x:"家用电器",y:99},{x:"食用酒水",y:188},{x:"个护健康",y:344},{x:"服饰箱包",y:255},{x:"其他",y:65}],radarData:[{name:"个人",label:"引用",value:10},{name:"个人",label:"口碑",value:8},{name:"个人",label:"产量",value:4},{name:"个人",label:"贡献",value:5},{name:"个人",label:"热度",value:7},{name:"团队",label:"引用",value:3},{name:"团队",label:"口碑",value:9},{name:"团队",label:"产量",value:6},{name:"团队",label:"贡献",value:3},{name:"团队",label:"热度",value:1},{name:"部门",label:"引用",value:4},{name:"部门",label:"口碑",value:1},{name:"部门",label:"产量",value:6},{name:"部门",label:"贡献",value:5},{name:"部门",label:"热度",value:7}]}};n.d(t,"name",function(){return C}),n.d(t,"beforeRegister",function(){return M}),n.d(t,"state",function(){return T}),n.d(t,"action",function(){return $}),n.d(t,"view",function(){return m});var C=s.name;function M(){return S.apply(this,arguments)}function S(){return(S=i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.load)(["antd","action","i18n"]);case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}}])});